<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="4961px" height="3451px" viewBox="-0.5 -0.5 4961 3451" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36&quot; version=&quot;28.2.0&quot;&gt;&#10;  &lt;diagram name=&quot;Chess Class Diagram&quot; id=&quot;0&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;5648&quot; dy=&quot;4968&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1920&quot; pageHeight=&quot;1080&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;2&quot; value=&quot;&amp;lt;b&amp;gt;Game&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;state: GameState&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;players: Player[2]&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;spectators: List&amp;lt;Spectator&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;board: Board&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;clock: ChessClock&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;status: GameStatus&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;moveHistory: List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;start()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;makeMove(cmd: MoveCommand)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;offerDraw(by: Player)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;resign(by: Player)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;saveSnapshot(): Snapshot&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;restore(snapshot: Snapshot)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;end(reason: EndReason)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;40&quot; width=&quot;320&quot; height=&quot;290&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;3&quot; value=&quot;&amp;lt;b&amp;gt;Player&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;name: String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rating: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;color: Color&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;requestDraw()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;resign()&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;690&quot; y=&quot;-420&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;4&quot; value=&quot;&amp;lt;b&amp;gt;Spectator&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;name: String&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;subscribe(gameId: UUID)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;unsubscribe()&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;860&quot; y=&quot;-120&quot; width=&quot;220&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;WxJNEmhZ0hJ9apRxsBBK-126&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;6&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5&quot; value=&quot;&amp;lt;b&amp;gt;Board&amp;lt;/b&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;squares: Square[8][8]&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;activeColor: Color&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;castlingRights: CastlingRights&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;halfmoveClock: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;fullmoveNumber: int&amp;lt;/div&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;getPieceAt(sq: Square): Piece?&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;movePiece(m: Move)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;clone(): Board&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-240&quot; y=&quot;-370&quot; width=&quot;260&quot; height=&quot;220&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6&quot; value=&quot;&amp;lt;b&amp;gt;Square&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;file: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rank: int&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;hashCode()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;equals()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;toAlgebraic(): String&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-200&quot; y=&quot;-570&quot; width=&quot;180&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;7&quot; value=&quot;&amp;lt;b&amp;gt;Piece&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;color: Color&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;position: Square&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board: Board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;symbol(): char&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;540&quot; y=&quot;-1010&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;8&quot; value=&quot;&amp;lt;b&amp;gt;Pawn&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;210&quot; y=&quot;-1070&quot; width=&quot;180&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9&quot; value=&quot;&amp;lt;b&amp;gt;Knight&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;760&quot; y=&quot;-1200&quot; width=&quot;180&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;10&quot; value=&quot;&amp;lt;b&amp;gt;Bishop&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;560&quot; y=&quot;-1250&quot; width=&quot;180&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;11&quot; value=&quot;&amp;lt;b&amp;gt;Rook&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;360&quot; y=&quot;-1190&quot; width=&quot;180&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;12&quot; value=&quot;&amp;lt;b&amp;gt;Queen&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;870&quot; y=&quot;-940&quot; width=&quot;180&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;13&quot; value=&quot;&amp;lt;b&amp;gt;King&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;possibleMoves(board): List&amp;lt;Move&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;inCheck(board): bool&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;950&quot; y=&quot;-1110&quot; width=&quot;180&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;14&quot; value=&quot;&amp;lt;b&amp;gt;Move&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;from: Square&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;to: Square&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;promotion: PieceType?&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;captured: Piece?&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;isCastle: bool&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;isEnPassant: bool&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;toSAN(board: Board): String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;apply(board: Board): Board&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;-580&quot; width=&quot;260&quot; height=&quot;180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;15&quot; value=&quot;&amp;lt;b&amp;gt;MoveCommand&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;move: Move&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;prevState: Snapshot&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;execute(game: Game)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;undo(game: Game)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-510&quot; y=&quot;410&quot; width=&quot;240&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;16&quot; value=&quot;&amp;lt;b&amp;gt;Snapshot&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;fen: String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;clock: ClockState&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;status: GameStatus&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;from(game: Game): Snapshot&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-230&quot; y=&quot;860&quot; width=&quot;240&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;17&quot; value=&quot;&amp;lt;b&amp;gt;SnapshotSerializer&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;serialize(game: Game): Snapshot&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;deserialize(s: Snapshot): GameState&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-190&quot; y=&quot;460&quot; width=&quot;220&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;18&quot; value=&quot;&amp;lt;b&amp;gt;GameState&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;board: Board&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;activeColor: Color&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;status: GameStatus&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;80&quot; y=&quot;580&quot; width=&quot;200&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;19&quot; value=&quot;&amp;amp;laquo;interface&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;Rule&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;validate(move: Move, state: GameState): ValidationResult&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1290&quot; y=&quot;300&quot; width=&quot;220&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;20&quot; value=&quot;&amp;lt;b&amp;gt;MoveValidator&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rules: List&amp;lt;Rule&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;validate(move: Move, state: GameState): ValidationResult&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-575&quot; y=&quot;200&quot; width=&quot;220&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;21&quot; value=&quot;&amp;lt;b&amp;gt;CheckRule&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;validate(...)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-900&quot; y=&quot;410&quot; width=&quot;160&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;22&quot; value=&quot;&amp;lt;b&amp;gt;CastlingRule&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;validate(...)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-910&quot; y=&quot;280&quot; width=&quot;160&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;24&quot; value=&quot;&amp;lt;b&amp;gt;BasicMoveRule&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;validate(...)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-930&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;25&quot; value=&quot;&amp;amp;laquo;interface&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;GameRepository&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;save(game: Game)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;findById(id: UUID): Game?&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;saveSnapshot(id: UUID, s: Snapshot)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;loadSnapshot(id: UUID): Snapshot?&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;appendMove(id: UUID, cmd: MoveCommand)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-800&quot; y=&quot;-50&quot; width=&quot;280&quot; height=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;27&quot; value=&quot;&amp;lt;b&amp;gt;ReplayService&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;record(cmd: MoveCommand)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;play(gameId: UUID, speed: float)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;590&quot; y=&quot;150&quot; width=&quot;220&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;28&quot; value=&quot;&amp;lt;b&amp;gt;LeaderboardService&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;strategy: RatingStrategy&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;update(result: GameResult)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;top(n: int): List&amp;lt;PlayerRank&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2420&quot; y=&quot;20&quot; width=&quot;240&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;29&quot; value=&quot;&amp;amp;laquo;interface&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;RatingStrategy&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;apply(a: Player, b: Player, result: GameResult)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2430&quot; y=&quot;250&quot; width=&quot;220&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;30&quot; value=&quot;&amp;lt;b&amp;gt;Strategy&amp;lt;/b&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;apply(...)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2540&quot; y=&quot;430&quot; width=&quot;160&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;31&quot; value=&quot;&amp;lt;b&amp;gt;Room&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;game: Game&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;invitation: Invitation?&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;visibility: RoomVisibility&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;join(p: Player)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;addSpectator(s: Spectator)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;890&quot; y=&quot;420&quot; width=&quot;240&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;32&quot; value=&quot;&amp;lt;b&amp;gt;Invitation&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;code: String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;expiresAt: Instant&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;isValid(): bool&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1640&quot; y=&quot;330&quot; width=&quot;200&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;33&quot; value=&quot;&amp;lt;b&amp;gt;MatchmakingService&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;findOpponent(p: Player, byRating: bool): Player&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;890&quot; y=&quot;-610&quot; width=&quot;220&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;34&quot; value=&quot;&amp;lt;b&amp;gt;ChessClock&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;white: Timer&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;black: Timer&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;increment: int&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;start(color: Color)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;switchTurn()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;getState(): ClockState&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;380&quot; y=&quot;780&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;35&quot; value=&quot;&amp;lt;b&amp;gt;Timer&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;remainingMs: long&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;running: bool&amp;lt;/div&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;start()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;pause()&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;tick(ms: long)&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;390&quot; y=&quot;1140&quot; width=&quot;180&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;36&quot; value=&quot;&amp;amp;laquo;enum&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;Color&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;WHITE&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;BLACK&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;460&quot; y=&quot;-770&quot; width=&quot;180&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;37&quot; value=&quot;&amp;amp;laquo;enum&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;GameStatus&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;SETUP&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;ONGOING&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;CHECK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;CHECKMATE&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;STALEMATE&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;DRAW&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;RESIGNED&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;TIMEOUT&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-800&quot; y=&quot;-240&quot; width=&quot;200&quot; height=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;38&quot; value=&quot;&amp;amp;laquo;enum&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;EndReason&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;CHECKMATE&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;STALEMATE&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;DRAW_AGREED&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;RESIGNATION&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;TIMEOUT&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;FIFTY_MOVE&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;REPETITION&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-560&quot; y=&quot;-380&quot; width=&quot;190&quot; height=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;39&quot; value=&quot;&amp;amp;laquo;enum&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;PieceType&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;PAWN&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;KNIGHT&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;BISHOP&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;ROOK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;QUEEN&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;KING&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;-840&quot; width=&quot;190&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;40&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;8&quot; target=&quot;7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;41&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;9&quot; target=&quot;7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;42&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;10&quot; target=&quot;7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;43&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;11&quot; target=&quot;7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;44&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;12&quot; target=&quot;7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;45&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;13&quot; target=&quot;7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;46&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;5&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;47&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;14&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;48&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;20&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;49&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;34&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;50&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;51&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;4&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0077&quot; y=&quot;-6&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-1&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;52&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;20&quot; target=&quot;24&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;53&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;24&quot; target=&quot;19&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;54&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;20&quot; target=&quot;21&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;55&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;21&quot; target=&quot;19&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;56&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;20&quot; target=&quot;22&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;57&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;22&quot; target=&quot;19&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;60&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;15&quot; target=&quot;16&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;61&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;17&quot; target=&quot;16&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;62&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;17&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;63&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;15&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0021&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;64&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;16&quot; target=&quot;34&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;65&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;25&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0027&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;67&quot; value=&quot;strategy&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;28&quot; target=&quot;29&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;68&quot; value=&quot;&quot; style=&quot;endArrow=block;endFill=0;html=1;&quot; parent=&quot;1&quot; source=&quot;30&quot; target=&quot;29&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;69&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;31&quot; target=&quot;2&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;70&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;31&quot; target=&quot;32&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;71&quot; value=&quot;matches by rating&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;33&quot; target=&quot;3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;72&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;34&quot; target=&quot;35&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;73&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;3&quot; target=&quot;36&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;74&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;7&quot; target=&quot;36&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;75&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;14&quot; target=&quot;36&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0026&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;76&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;exitX=0.949;exitY=0.039;exitDx=0;exitDy=0;exitPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;36&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;77&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;34&quot; target=&quot;36&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;78&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;37&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;79&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;38&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0007&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;80&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;14&quot; target=&quot;39&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;81&quot; value=&quot;&amp;lt;b&amp;gt;&amp;lt;font style=&amp;quot;font-size: 18px;&amp;quot;&amp;gt;PostgreSQL&amp;lt;/font&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;font size=&amp;quot;3&amp;quot;&amp;gt;chess_app&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;size=15;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2240&quot; y=&quot;-2190&quot; width=&quot;790&quot; height=&quot;220&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;82&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;player&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;name: varchar&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rating: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;created_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2830&quot; y=&quot;-1880&quot; width=&quot;260&quot; height=&quot;180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;83&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;game&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;status: enum(GameStatus)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;white_id: UUID FK-&amp;gt;player.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;black_id: UUID FK-&amp;gt;player.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;active_color: enum(Color)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;created_at: timestamp&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;ended_at: timestamp&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;result: varchar&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2330&quot; y=&quot;-1850&quot; width=&quot;260&quot; height=&quot;180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;84&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;move&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;game_id: UUID FK-&amp;gt;game.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;move_no: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;san: varchar&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;from_sq: char(2)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;to_sq: char(2)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;promotion: enum(PieceType)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;flags_json: jsonb&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;created_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1920&quot; y=&quot;-1710&quot; width=&quot;260&quot; height=&quot;180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;85&quot; value=&quot;«table»&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;game_snapshot&amp;lt;/b&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;game_id: UUID FK-&amp;amp;gt;game.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;clock_state_json: jsonb&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;status: enum(GameStatus)&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;created_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2640&quot; y=&quot;-1360&quot; width=&quot;230&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;86&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;room&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;game_id: UUID FK-&amp;gt;game.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;visibility: varchar&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;created_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2980&quot; y=&quot;-1480&quot; width=&quot;260&quot; height=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;87&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;invitation&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;code: varchar PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;room_id: UUID FK-&amp;gt;room.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;expires_at: timestamp&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;used_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;3010&quot; y=&quot;-1230&quot; width=&quot;230&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;88&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;leaderboard&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;player_id: UUID PK FK-&amp;gt;player.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rating: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;games_played: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;wins: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;draws: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;losses: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;updated_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;3410&quot; y=&quot;-1510&quot; width=&quot;260&quot; height=&quot;180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;89&quot; value=&quot;&amp;amp;laquo;table&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;spectator_session&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID PK&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;game_id: UUID FK-&amp;gt;game.id&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;user_ref: varchar&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;joined_at: timestamp&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;fillColor=#f7f7f7;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2330&quot; y=&quot;-1510&quot; width=&quot;230&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;90&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;83&quot; target=&quot;82&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;91&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;83&quot; target=&quot;82&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;92&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;84&quot; target=&quot;83&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.1086&quot; y=&quot;-6&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;93&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;85&quot; target=&quot;83&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0672&quot; y=&quot;-28&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-1&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;94&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;86&quot; target=&quot;83&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;95&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;87&quot; target=&quot;86&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;96&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;88&quot; target=&quot;82&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;97&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;89&quot; target=&quot;83&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;99&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;PlayerEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;name: String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rating: int&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1630&quot; y=&quot;-490&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;100&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;GameEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;status: GameStatus&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;whiteId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;blackId: UUID&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1480&quot; y=&quot;-710&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;101&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;MoveEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;gameId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;moveNo: int&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;san: String&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1450&quot; y=&quot;-940&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;102&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;SnapshotEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;gameId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;fen: String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;clockJson: jsonb&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1630&quot; y=&quot;-230&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;103&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;RoomEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;gameId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;visibility: String&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1900&quot; y=&quot;-190&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;104&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;InvitationEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;code: String&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;roomId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;expiresAt: Instant&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2170&quot; y=&quot;-190&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;105&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;LeaderboardEntryEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;playerId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;rating: int&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2450&quot; y=&quot;-230&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;106&quot; value=&quot;&amp;amp;laquo;entity&amp;amp;raquo;&amp;lt;br/&amp;gt;&amp;lt;b&amp;gt;SpectatorSessionEntity&amp;lt;/b&amp;gt;&amp;lt;hr/&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;id: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;gameId: UUID&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size:11px;&amp;quot;&amp;gt;userRef: String&amp;lt;/div&amp;gt;&quot; style=&quot;shape=rectangle;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1720&quot; y=&quot;-730&quot; width=&quot;220&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;107&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;3&quot; target=&quot;99&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0024&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;108&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;99&quot; target=&quot;82&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;109&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;2&quot; target=&quot;100&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;110&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;100&quot; target=&quot;83&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;111&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;14&quot; target=&quot;101&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;112&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;101&quot; target=&quot;84&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;113&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;16&quot; target=&quot;102&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;114&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;102&quot; target=&quot;85&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;115&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;31&quot; target=&quot;103&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;116&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;103&quot; target=&quot;86&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;117&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;32&quot; target=&quot;104&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;118&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;104&quot; target=&quot;87&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;119&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;28&quot; target=&quot;105&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;120&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;105&quot; target=&quot;88&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;121&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;4&quot; target=&quot;106&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;122&quot; value=&quot;&quot; style=&quot;endArrow=none;startArrow=none;html=1;&quot; parent=&quot;1&quot; source=&quot;106&quot; target=&quot;89&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;WxJNEmhZ0hJ9apRxsBBK-141&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.435;entryY=1.01;entryDx=0;entryDy=0;entryPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;18&quot; target=&quot;2&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;WxJNEmhZ0hJ9apRxsBBK-143&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.993;entryY=0.59;entryDx=0;entryDy=0;entryPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;27&quot; target=&quot;2&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" resource="https://app.diagrams.net/#HVirusec%2Fchess-project%2Fmain%2Fchess-app.drawio.svg"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="2"><g><rect x="1330" y="2230" width="320" height="290" rx="43.5" ry="43.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 2375px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Game</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">state: GameState</div><div style="font-size:11px;">players: Player[2]</div><div style="font-size:11px;">spectators: List</div><div style="font-size:11px;">board: Board</div><div style="font-size:11px;">clock: ChessClock</div><div style="font-size:11px;">status: GameStatus</div><div style="font-size:11px;">moveHistory: List</div><hr /><div style="font-size:11px;">start()</div><div style="font-size:11px;">makeMove(cmd: MoveCommand)</div><div style="font-size:11px;">offerDraw(by: Player)</div><div style="font-size:11px;">resign(by: Player)</div><div style="font-size:11px;">saveSnapshot(): Snapshot</div><div style="font-size:11px;">restore(snapshot: Snapshot)</div><div style="font-size:11px;">end(reason: EndReason)</div></div></div></div></foreignObject><text x="1490" y="2379" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Game...</text></switch></g></g></g><g data-cell-id="3"><g><rect x="1980" y="1770" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1840px; margin-left: 1981px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Player</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">name: String</div><div style="font-size:11px;">rating: int</div><div style="font-size:11px;">color: Color</div><hr /><div style="font-size:11px;">requestDraw()</div><div style="font-size:11px;">resign()</div></div></div></div></foreignObject><text x="2090" y="1844" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Player...</text></switch></g></g></g><g data-cell-id="4"><g><rect x="2150" y="2070" width="220" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2130px; margin-left: 2151px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Spectator</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">name: String</div><hr /><div style="font-size:11px;">subscribe(gameId: UUID)</div><div style="font-size:11px;">unsubscribe()</div></div></div></div></foreignObject><text x="2260" y="2134" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Spectator...</text></switch></g></g></g><g data-cell-id="WxJNEmhZ0hJ9apRxsBBK-126"><g><path d="M 1180 1820 L 1180 1746.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1180 1741.12 L 1183.5 1748.12 L 1180 1746.37 L 1176.5 1748.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="5"><g><rect x="1050" y="1820" width="260" height="220" rx="33" ry="33" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1930px; margin-left: 1051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Board</b><hr /><div style="font-size:11px;">squares: Square[8][8]</div><div style="font-size:11px;">activeColor: Color</div><div style="font-size:11px;">castlingRights: CastlingRights</div><div style="font-size:11px;">halfmoveClock: int</div><div style="font-size:11px;">fullmoveNumber: int</div><hr /><div style="font-size:11px;">getPieceAt(sq: Square): Piece?</div><div style="font-size:11px;">movePiece(m: Move)</div><div style="font-size:11px;">clone(): Board</div></div></div></div></foreignObject><text x="1180" y="1934" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Board...</text></switch></g></g></g><g data-cell-id="6"><g><rect x="1090" y="1620" width="180" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1680px; margin-left: 1091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Square</b><hr /><div style="font-size:11px;">file: int</div><div style="font-size:11px;">rank: int</div><hr /><div style="font-size:11px;">hashCode()</div><div style="font-size:11px;">equals()</div><div style="font-size:11px;">toAlgebraic(): String</div></div></div></div></foreignObject><text x="1180" y="1684" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Square...</text></switch></g></g></g><g data-cell-id="7"><g><rect x="1830" y="1180" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1250px; margin-left: 1831px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Piece</b><hr /><div style="font-size:11px;">color: Color</div><div style="font-size:11px;">position: Square</div><hr /><div style="font-size:11px;">possibleMoves(board: Board): List</div><div style="font-size:11px;">symbol(): char</div></div></div></div></foreignObject><text x="1940" y="1254" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Piece...</text></switch></g></g></g><g data-cell-id="8"><g><rect x="1500" y="1120" width="180" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1170px; margin-left: 1501px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Pawn</b><hr /><hr /><div style="font-size:11px;">possibleMoves(board): List</div></div></div></div></foreignObject><text x="1590" y="1174" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Pawn...</text></switch></g></g></g><g data-cell-id="9"><g><rect x="2050" y="990" width="180" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1040px; margin-left: 2051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Knight</b><hr /><hr /><div style="font-size:11px;">possibleMoves(board): List</div></div></div></div></foreignObject><text x="2140" y="1044" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Knight...</text></switch></g></g></g><g data-cell-id="10"><g><rect x="1850" y="940" width="180" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 990px; margin-left: 1851px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Bishop</b><hr /><hr /><div style="font-size:11px;">possibleMoves(board): List</div></div></div></div></foreignObject><text x="1940" y="994" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Bishop...</text></switch></g></g></g><g data-cell-id="11"><g><rect x="1650" y="1000" width="180" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1050px; margin-left: 1651px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Rook</b><hr /><hr /><div style="font-size:11px;">possibleMoves(board): List</div></div></div></div></foreignObject><text x="1740" y="1054" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Rook...</text></switch></g></g></g><g data-cell-id="12"><g><rect x="2160" y="1250" width="180" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1300px; margin-left: 2161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Queen</b><hr /><hr /><div style="font-size:11px;">possibleMoves(board): List</div></div></div></div></foreignObject><text x="2250" y="1304" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Queen...</text></switch></g></g></g><g data-cell-id="13"><g><rect x="2240" y="1080" width="180" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1140px; margin-left: 2241px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>King</b><hr /><hr /><div style="font-size:11px;">possibleMoves(board): List</div><div style="font-size:11px;">inCheck(board): bool</div></div></div></div></foreignObject><text x="2330" y="1144" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">King...</text></switch></g></g></g><g data-cell-id="14"><g><rect x="1340" y="1610" width="260" height="180" rx="27" ry="27" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1700px; margin-left: 1341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Move</b><hr /><div style="font-size:11px;">from: Square</div><div style="font-size:11px;">to: Square</div><div style="font-size:11px;">promotion: PieceType?</div><div style="font-size:11px;">captured: Piece?</div><div style="font-size:11px;">isCastle: bool</div><div style="font-size:11px;">isEnPassant: bool</div><hr /><div style="font-size:11px;">toSAN(board: Board): String</div><div style="font-size:11px;">apply(board: Board): Board</div></div></div></div></foreignObject><text x="1470" y="1704" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Move...</text></switch></g></g></g><g data-cell-id="15"><g><rect x="780" y="2600" width="240" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2670px; margin-left: 781px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>MoveCommand</b><hr /><div style="font-size:11px;">move: Move</div><div style="font-size:11px;">prevState: Snapshot</div><hr /><div style="font-size:11px;">execute(game: Game)</div><div style="font-size:11px;">undo(game: Game)</div></div></div></div></foreignObject><text x="900" y="2674" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">MoveCommand...</text></switch></g></g></g><g data-cell-id="16"><g><rect x="1060" y="3050" width="240" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 3120px; margin-left: 1061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Snapshot</b><hr /><div style="font-size:11px;">fen: String</div><div style="font-size:11px;">clock: ClockState</div><div style="font-size:11px;">status: GameStatus</div><hr /><div style="font-size:11px;">from(game: Game): Snapshot</div></div></div></div></foreignObject><text x="1180" y="3124" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Snapshot...</text></switch></g></g></g><g data-cell-id="17"><g><rect x="1100" y="2650" width="220" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2710px; margin-left: 1101px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>SnapshotSerializer</b><hr /><hr /><div style="font-size:11px;">serialize(game: Game): Snapshot</div><div style="font-size:11px;">deserialize(s: Snapshot): GameState</div></div></div></div></foreignObject><text x="1210" y="2714" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">SnapshotSerializer...</text></switch></g></g></g><g data-cell-id="18"><g><rect x="1370" y="2770" width="200" height="110" rx="16.5" ry="16.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 2825px; margin-left: 1371px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>GameState</b><hr /><div style="font-size:11px;">board: Board</div><div style="font-size:11px;">activeColor: Color</div><div style="font-size:11px;">status: GameStatus</div></div></div></div></foreignObject><text x="1470" y="2829" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">GameState...</text></switch></g></g></g><g data-cell-id="19"><g><rect x="0" y="2490" width="220" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2550px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«interface»<br /><b>Rule</b><hr /><hr /><div style="font-size:11px;">validate(move: Move, state: GameState): ValidationResult</div></div></div></div></foreignObject><text x="110" y="2554" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«interface»...</text></switch></g></g></g><g data-cell-id="20"><g><rect x="715" y="2390" width="220" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2450px; margin-left: 716px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>MoveValidator</b><hr /><div style="font-size:11px;">rules: List</div><hr /><div style="font-size:11px;">validate(move: Move, state: GameState): ValidationResult</div></div></div></div></foreignObject><text x="825" y="2454" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">MoveValidator...</text></switch></g></g></g><g data-cell-id="21"><g><rect x="390" y="2600" width="160" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2640px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>CheckRule</b><hr /><hr /><div style="font-size:11px;">validate(...)</div></div></div></div></foreignObject><text x="470" y="2644" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">CheckRule...</text></switch></g></g></g><g data-cell-id="22"><g><rect x="380" y="2470" width="160" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2510px; margin-left: 381px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>CastlingRule</b><hr /><hr /><div style="font-size:11px;">validate(...)</div></div></div></div></foreignObject><text x="460" y="2514" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">CastlingRule...</text></switch></g></g></g><g data-cell-id="24"><g><rect x="360" y="2330" width="160" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2370px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>BasicMoveRule</b><hr /><hr /><div style="font-size:11px;">validate(...)</div></div></div></div></foreignObject><text x="440" y="2374" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">BasicMoveRule...</text></switch></g></g></g><g data-cell-id="25"><g><rect x="490" y="2140" width="280" height="160" rx="24" ry="24" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 2220px; margin-left: 491px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«interface»<br /><b>GameRepository</b><hr /><hr /><div style="font-size:11px;">save(game: Game)</div><div style="font-size:11px;">findById(id: UUID): Game?</div><div style="font-size:11px;">saveSnapshot(id: UUID, s: Snapshot)</div><div style="font-size:11px;">loadSnapshot(id: UUID): Snapshot?</div><div style="font-size:11px;">appendMove(id: UUID, cmd: MoveCommand)</div></div></div></div></foreignObject><text x="630" y="2224" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«interface»...</text></switch></g></g></g><g data-cell-id="27"><g><rect x="1880" y="2340" width="220" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2400px; margin-left: 1881px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>ReplayService</b><hr /><hr /><div style="font-size:11px;">record(cmd: MoveCommand)</div><div style="font-size:11px;">play(gameId: UUID, speed: float)</div></div></div></div></foreignObject><text x="1990" y="2404" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">ReplayService...</text></switch></g></g></g><g data-cell-id="28"><g><rect x="3710" y="2210" width="240" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2280px; margin-left: 3711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>LeaderboardService</b><hr /><div style="font-size:11px;">strategy: RatingStrategy</div><hr /><div style="font-size:11px;">update(result: GameResult)</div><div style="font-size:11px;">top(n: int): List</div></div></div></div></foreignObject><text x="3830" y="2284" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">LeaderboardService...</text></switch></g></g></g><g data-cell-id="29"><g><rect x="3720" y="2440" width="220" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2490px; margin-left: 3721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«interface»<br /><b>RatingStrategy</b><hr /><hr /><div style="font-size:11px;">apply(a: Player, b: Player, result: GameResult)</div></div></div></div></foreignObject><text x="3830" y="2494" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«interface»...</text></switch></g></g></g><g data-cell-id="30"><g><rect x="3830" y="2620" width="160" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2660px; margin-left: 3831px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Strategy</b><hr /><hr /><div style="font-size:11px;">apply(...)</div></div></div></div></foreignObject><text x="3910" y="2664" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Strategy...</text></switch></g></g></g><g data-cell-id="31"><g><rect x="2180" y="2610" width="240" height="150" rx="22.5" ry="22.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2685px; margin-left: 2181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Room</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">game: Game</div><div style="font-size:11px;">invitation: Invitation?</div><div style="font-size:11px;">visibility: RoomVisibility</div><hr /><div style="font-size:11px;">join(p: Player)</div><div style="font-size:11px;">addSpectator(s: Spectator)</div></div></div></div></foreignObject><text x="2300" y="2689" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Room...</text></switch></g></g></g><g data-cell-id="32"><g><rect x="2930" y="2520" width="200" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 2580px; margin-left: 2931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Invitation</b><hr /><div style="font-size:11px;">code: String</div><div style="font-size:11px;">expiresAt: Instant</div><hr /><div style="font-size:11px;">isValid(): bool</div></div></div></div></foreignObject><text x="3030" y="2584" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Invitation...</text></switch></g></g></g><g data-cell-id="33"><g><rect x="2180" y="1580" width="220" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1640px; margin-left: 2181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>MatchmakingService</b><hr /><hr /><div style="font-size:11px;">findOpponent(p: Player, byRating: bool): Player</div></div></div></div></foreignObject><text x="2290" y="1644" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">MatchmakingService...</text></switch></g></g></g><g data-cell-id="34"><g><rect x="1670" y="2970" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3040px; margin-left: 1671px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>ChessClock</b><hr /><div style="font-size:11px;">white: Timer</div><div style="font-size:11px;">black: Timer</div><div style="font-size:11px;">increment: int</div><hr /><div style="font-size:11px;">start(color: Color)</div><div style="font-size:11px;">switchTurn()</div><div style="font-size:11px;">getState(): ClockState</div></div></div></div></foreignObject><text x="1780" y="3044" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">ChessClock...</text></switch></g></g></g><g data-cell-id="35"><g><rect x="1680" y="3330" width="180" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 3390px; margin-left: 1681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Timer</b><hr /><div style="font-size:11px;">remainingMs: long</div><div style="font-size:11px;">running: bool</div><hr /><div style="font-size:11px;">start()</div><div style="font-size:11px;">pause()</div><div style="font-size:11px;">tick(ms: long)</div></div></div></div></foreignObject><text x="1770" y="3394" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Timer...</text></switch></g></g></g><g data-cell-id="36"><g><rect x="1750" y="1420" width="180" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1480px; margin-left: 1751px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«enum»<br /><b>Color</b><hr /><div style="font-size:11px;">WHITE</div><div style="font-size:11px;">BLACK</div></div></div></div></foreignObject><text x="1840" y="1484" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«enum»...</text></switch></g></g></g><g data-cell-id="37"><g><rect x="490" y="1950" width="200" height="160" rx="24" ry="24" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 2030px; margin-left: 491px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«enum»<br /><b>GameStatus</b><hr /><div style="font-size:11px;">SETUP</div><div style="font-size:11px;">ONGOING</div><div style="font-size:11px;">CHECK</div><div style="font-size:11px;">CHECKMATE</div><div style="font-size:11px;">STALEMATE</div><div style="font-size:11px;">DRAW</div><div style="font-size:11px;">RESIGNED</div><div style="font-size:11px;">TIMEOUT</div></div></div></div></foreignObject><text x="590" y="2034" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«enum»...</text></switch></g></g></g><g data-cell-id="38"><g><rect x="730" y="1810" width="190" height="160" rx="24" ry="24" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1890px; margin-left: 731px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«enum»<br /><b>EndReason</b><hr /><div style="font-size:11px;">CHECKMATE</div><div style="font-size:11px;">STALEMATE</div><div style="font-size:11px;">DRAW_AGREED</div><div style="font-size:11px;">RESIGNATION</div><div style="font-size:11px;">TIMEOUT</div><div style="font-size:11px;">FIFTY_MOVE</div><div style="font-size:11px;">REPETITION</div></div></div></div></foreignObject><text x="825" y="1894" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«enum»...</text></switch></g></g></g><g data-cell-id="39"><g><rect x="1340" y="1350" width="190" height="150" rx="22.5" ry="22.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1425px; margin-left: 1341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«enum»<br /><b>PieceType</b><hr /><div style="font-size:11px;">PAWN</div><div style="font-size:11px;">KNIGHT</div><div style="font-size:11px;">BISHOP</div><div style="font-size:11px;">ROOK</div><div style="font-size:11px;">QUEEN</div><div style="font-size:11px;">KING</div></div></div></div></foreignObject><text x="1435" y="1429" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«enum»...</text></switch></g></g></g><g data-cell-id="40"><g><path d="M 1680 1190.57 L 1822.09 1223.05" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1828.91 1224.61 L 1821.31 1226.46 L 1822.87 1219.64 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="41"><g><path d="M 2092.38 1090 L 2012.27 1174.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2007.44 1179.19 L 2009.73 1171.71 L 2014.8 1176.54 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="42"><g><path d="M 1940 1040 L 1940 1171.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1940 1178.88 L 1936.5 1171.88 L 1943.5 1171.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="43"><g><path d="M 1790 1100 L 1864.26 1174.26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1869.21 1179.21 L 1861.78 1176.73 L 1866.73 1171.78 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="44"><g><path d="M 2160 1285.48 L 2058.01 1269.03" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2051.1 1267.92 L 2058.57 1265.58 L 2057.46 1272.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="45"><g><path d="M 2240 1165.38 L 2057.81 1216.77" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2051.08 1218.67 L 2056.86 1213.4 L 2058.76 1220.14 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="46"><g><path d="M 1388.99 2230 L 1256.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="47"><g><path d="M 1485.7 2230 L 1472.67 1790" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="48"><g><path d="M 1330 2393.05 L 935 2437.59" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="49"><g><path d="M 1553.23 2520 L 1749.47 2970" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="50"><g><path d="M 1650 2232.33 L 2011.5 1910" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="51"><g><path d="M 1650 2324.09 L 2150 2165" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="52"><g><path d="M 715 2427.14 L 520 2386.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="53"><g><path d="M 366.67 2410 L 227.13 2486.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 220.98 2489.46 L 225.45 2483.04 L 228.8 2489.19 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="54"><g><path d="M 715 2508.87 L 544.74 2600" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="55"><g><path d="M 390 2620 L 227.88 2579.47" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 221.08 2577.77 L 228.72 2576.07 L 227.03 2582.86 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="56"><g><path d="M 715 2468.08 L 540 2496.85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="57"><g><path d="M 380 2519.14 L 228.07 2536.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 221.11 2537.3 L 227.67 2533.03 L 228.46 2539.98 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="60"><g><path d="M 943.56 2740 L 1136.44 3050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="61"><g><path d="M 1205.61 2770 L 1185.12 3050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="62"><g><path d="M 1368.81 2520 L 1260.15 2650" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="63"><g><path d="M 1330 2455 L 1020 2610" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="64"><g><path d="M 1300 3104 L 1670 3054.67" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="65"><g><path d="M 1330 2346.16 L 770 2245.23" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="67"><g><path d="M 3830 2350 L 3830 2440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2395px; margin-left: 3830px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">strategy</div></div></div></foreignObject><text x="3830" y="2398" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">strategy</text></switch></g></g></g><g data-cell-id="68"><g><path d="M 3891.18 2620 L 3856.99 2547.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 3854.01 2541.01 L 3860.15 2545.86 L 3853.82 2548.84 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="69"><g><path d="M 2180 2639.07 L 1650 2436.23" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="70"><g><path d="M 2420 2667.74 L 2930 2594.38" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="71"><g><path d="M 2230 1700 L 2160 1770" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1735px; margin-left: 2195px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">matches by rating</div></div></div></foreignObject><text x="2195" y="1738" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">matches by rating</text></switch></g></g></g><g data-cell-id="72"><g><path d="M 1778 3110 L 1771.71 3330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="73"><g><path d="M 2041.39 1770 L 1881.67 1540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="74"><g><path d="M 1909.57 1320 L 1866.09 1420" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="75"><g><path d="M 1600 1622.7 L 1750 1533.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="76"><g><path d="M 1633.68 2241.31 L 1823.74 1540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="77"><g><path d="M 1782.69 2970 L 1837.69 1540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="78"><g><path d="M 1330 2313.67 L 690 2068.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="79"><g><path d="M 1330 2258.31 L 920 1959.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="80"><g><path d="M 1458.55 1610 L 1444.55 1500" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="81"><g><path d="M 3530 15 C 3530 6.72 3706.85 0 3925 0 C 4029.76 0 4130.23 1.58 4204.31 4.39 C 4278.38 7.21 4320 11.02 4320 15 L 4320 205 C 4320 213.28 4143.15 220 3925 220 C 3706.85 220 3530 213.28 3530 205 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 4320 15 C 4320 23.28 4143.15 30 3925 30 C 3706.85 30 3530 23.28 3530 15" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 788px; height: 1px; padding-top: 123px; margin-left: 3531px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b><font style="font-size: 18px;">PostgreSQL</font></b><div style=""><font size="3">chess_app</font></div></div></div></div></foreignObject><text x="3925" y="126" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">PostgreSQL...</text></switch></g></g></g><g data-cell-id="82"><g><rect x="4120" y="310" width="260" height="180" rx="27" ry="27" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 400px; margin-left: 4121px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>player</b><hr /><div style="font-size:11px;">id: UUID PK</div><div style="font-size:11px;">name: varchar</div><div style="font-size:11px;">rating: int</div><div style="font-size:11px;">created_at: timestamp</div></div></div></div></foreignObject><text x="4250" y="404" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="83"><g><rect x="3620" y="340" width="260" height="180" rx="27" ry="27" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 430px; margin-left: 3621px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>game</b><hr /><div style="font-size:11px;">id: UUID PK</div><div style="font-size:11px;">status: enum(GameStatus)</div><div style="font-size:11px;">white_id: UUID FK-&gt;player.id</div><div style="font-size:11px;">black_id: UUID FK-&gt;player.id</div><div style="font-size:11px;">active_color: enum(Color)</div><div style="font-size:11px;">created_at: timestamp</div><div style="font-size:11px;">ended_at: timestamp</div><div style="font-size:11px;">result: varchar</div></div></div></div></foreignObject><text x="3750" y="434" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="84"><g><rect x="3210" y="480" width="260" height="180" rx="27" ry="27" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 570px; margin-left: 3211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>move</b><hr /><div style="font-size:11px;">id: UUID PK</div><div style="font-size:11px;">game_id: UUID FK-&gt;game.id</div><div style="font-size:11px;">move_no: int</div><div style="font-size:11px;">san: varchar</div><div style="font-size:11px;">from_sq: char(2)</div><div style="font-size:11px;">to_sq: char(2)</div><div style="font-size:11px;">promotion: enum(PieceType)</div><div style="font-size:11px;">flags_json: jsonb</div><div style="font-size:11px;">created_at: timestamp</div></div></div></div></foreignObject><text x="3340" y="574" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="85"><g><rect x="3930" y="830" width="230" height="150" rx="22.5" ry="22.5" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 905px; margin-left: 3931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>game_snapshot</b><hr /><div style="font-size:11px;">id: UUID PK</div><div style="font-size:11px;">game_id: UUID FK-&gt;game.id</div><div style="font-size:11px;">clock_state_json: jsonb</div><div style="font-size:11px;">status: enum(GameStatus)</div><div style="font-size:11px;">created_at: timestamp</div></div></div></div></foreignObject><text x="4045" y="909" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="86"><g><rect x="4270" y="710" width="260" height="160" rx="24" ry="24" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 790px; margin-left: 4271px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>room</b><hr /><div style="font-size:11px;">id: UUID PK</div><div style="font-size:11px;">game_id: UUID FK-&gt;game.id</div><div style="font-size:11px;">visibility: varchar</div><div style="font-size:11px;">created_at: timestamp</div></div></div></div></foreignObject><text x="4400" y="794" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="87"><g><rect x="4300" y="960" width="230" height="140" rx="21" ry="21" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 1030px; margin-left: 4301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>invitation</b><hr /><div style="font-size:11px;">code: varchar PK</div><div style="font-size:11px;">room_id: UUID FK-&gt;room.id</div><div style="font-size:11px;">expires_at: timestamp</div><div style="font-size:11px;">used_at: timestamp</div></div></div></div></foreignObject><text x="4415" y="1034" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="88"><g><rect x="4700" y="680" width="260" height="180" rx="27" ry="27" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 770px; margin-left: 4701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>leaderboard</b><hr /><div style="font-size:11px;">player_id: UUID PK FK-&gt;player.id</div><div style="font-size:11px;">rating: int</div><div style="font-size:11px;">games_played: int</div><div style="font-size:11px;">wins: int</div><div style="font-size:11px;">draws: int</div><div style="font-size:11px;">losses: int</div><div style="font-size:11px;">updated_at: timestamp</div></div></div></div></foreignObject><text x="4830" y="774" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="89"><g><rect x="3620" y="680" width="230" height="140" rx="21" ry="21" fill="#f7f7f7" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(247, 247, 247), rgb(25, 25, 25)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 750px; margin-left: 3621px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«table»<br /><b>spectator_session</b><hr /><div style="font-size:11px;">id: UUID PK</div><div style="font-size:11px;">game_id: UUID FK-&gt;game.id</div><div style="font-size:11px;">user_ref: varchar</div><div style="font-size:11px;">joined_at: timestamp</div></div></div></div></foreignObject><text x="3735" y="754" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«table»...</text></switch></g></g></g><g data-cell-id="90"><g><path d="M 3880 422.2 L 4120 407.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="91"><g><path d="M 3880 422.2 L 4120 407.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="92"><g><path d="M 3470 525.61 L 3620 474.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="93"><g><path d="M 3998.42 830 L 3805.89 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="94"><g><path d="M 4270 718 L 3880 502" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="95"><g><path d="M 4410.63 960 L 4405 870" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="96"><g><path d="M 4700 687.07 L 4380 482.93" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="97"><g><path d="M 3738.28 680 L 3745.78 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="99"><g><rect x="2920" y="1700" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1770px; margin-left: 2921px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>PlayerEntity</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">name: String</div><div style="font-size:11px;">rating: int</div></div></div></div></foreignObject><text x="3030" y="1774" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="100"><g><rect x="2770" y="1480" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1550px; margin-left: 2771px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>GameEntity</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">status: GameStatus</div><div style="font-size:11px;">whiteId: UUID</div><div style="font-size:11px;">blackId: UUID</div></div></div></div></foreignObject><text x="2880" y="1554" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="101"><g><rect x="2740" y="1250" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1320px; margin-left: 2741px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>MoveEntity</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">gameId: UUID</div><div style="font-size:11px;">moveNo: int</div><div style="font-size:11px;">san: String</div></div></div></div></foreignObject><text x="2850" y="1324" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="102"><g><rect x="2920" y="1960" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2030px; margin-left: 2921px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>SnapshotEntity</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">gameId: UUID</div><div style="font-size:11px;">fen: String</div><div style="font-size:11px;">clockJson: jsonb</div></div></div></div></foreignObject><text x="3030" y="2034" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="103"><g><rect x="3190" y="2000" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2070px; margin-left: 3191px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>RoomEntity</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">gameId: UUID</div><div style="font-size:11px;">visibility: String</div></div></div></div></foreignObject><text x="3300" y="2074" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="104"><g><rect x="3460" y="2000" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2070px; margin-left: 3461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>InvitationEntity</b><hr /><div style="font-size:11px;">code: String</div><div style="font-size:11px;">roomId: UUID</div><div style="font-size:11px;">expiresAt: Instant</div></div></div></div></foreignObject><text x="3570" y="2074" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="105"><g><rect x="3740" y="1960" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2030px; margin-left: 3741px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>LeaderboardEntryEntity</b><hr /><div style="font-size:11px;">playerId: UUID</div><div style="font-size:11px;">rating: int</div></div></div></div></foreignObject><text x="3850" y="2034" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="106"><g><rect x="3010" y="1460" width="220" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1530px; margin-left: 3011px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">«entity»<br /><b>SpectatorSessionEntity</b><hr /><div style="font-size:11px;">id: UUID</div><div style="font-size:11px;">gameId: UUID</div><div style="font-size:11px;">userRef: String</div></div></div></div></foreignObject><text x="3120" y="1534" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">«entity»...</text></switch></g></g></g><g data-cell-id="107"><g><path d="M 2200 1831.81 L 2920 1778.19" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="108"><g><path d="M 3092.34 1700 L 4169.85 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="109"><g><path d="M 1650 2280.04 L 2770 1615.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="110"><g><path d="M 2934.38 1480 L 3680.09 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="111"><g><path d="M 1600 1664.2 L 2740 1350.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="112"><g><path d="M 2895.73 1250 L 3281.2 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="113"><g><path d="M 1298.81 3050 L 2920 2094.81" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="114"><g><path d="M 3093.16 1960 L 3977.33 980" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="115"><g><path d="M 2420 2611.2 L 3190 2137.65" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="116"><g><path d="M 3360.16 2000 L 4331.25 870" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="117"><g><path d="M 3093.53 2520 L 3495.88 2140" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="118"><g><path d="M 3626.88 2000 L 4358.13 1100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="119"><g><path d="M 3835.6 2210 L 3844.4 2100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="120"><g><path d="M 3904.44 1960 L 4760 860" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="121"><g><path d="M 2346 2070 L 3019.67 1600" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="122"><g><path d="M 3175.19 1460 L 3679.81 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="WxJNEmhZ0hJ9apRxsBBK-141"><g><path d="M 1470 2770 L 1470 2645 L 1469.24 2529.27" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1469.21 2524.02 L 1472.75 2530.99 L 1469.24 2529.27 L 1465.75 2531.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="WxJNEmhZ0hJ9apRxsBBK-143"><g><path d="M 1880 2400 L 1765 2400 L 1765 2401.1 L 1654.13 2401.1" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1648.88 2401.1 L 1655.88 2397.6 L 1654.13 2401.1 L 1655.88 2404.6 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>